/* === Paleta base === */
:root {
  --kc-primary: #D90429;     /* rojo principal */
  --kc-secondary: #333333;   /* gris oscuro */
  --kc-accent: #FFDA63;      /* dorado */
  --kc-bg: #1E1E1E;          /* fondo general */
  --kc-text: #FFFFFF;        /* texto principal */
}

/* Fondo */
body, .login-pf, .kc-body {
  background: radial-gradient(circle at 50% -20%, #2a2a2a 0%, var(--kc-bg) 60%, #111 100%);
  color: var(--kc-text);
  font-family: Inter, Segoe UI, system-ui, -apple-system, Arial, sans-serif;
}

/* Header / logo arriba */
.kc-header {
  position: fixed; top: 24px; left: 0; right: 0;
  display:flex; justify-content:center; align-items:center; gap:.6rem;
  color: var(--kc-accent); text-transform: lowercase; letter-spacing:.12em; font-weight:700; z-index:2;
}
.kc-header .logo {
  width: 28px; height: 28px; border-radius:6px;
  background: linear-gradient(135deg, var(--kc-accent), #ffd975 60%, #bd8f00);
  display:inline-flex; justify-content:center; align-items:center; color:#1a1a1a; font-weight:900;
}

/* Centrado */
.login-pf-page, .login-pf-page .login-pf-page-container {
  display:flex; align-items:center; justify-content:center;
  min-height:100vh;
  padding:96px 16px 24px; /* antes 64px */
}

/* Card */
.pf-v5-c-card, .card-pf {
  background:#252525; border-radius:14px; border:1px solid #2f2f2f;
  box-shadow:0 18px 70px rgba(0,0,0,.45);
  width:100%; max-width:440px; padding:24px 22px 28px !important; color:var(--kc-text);
  animation:fadeIn .45s ease-out both;
}
@keyframes fadeIn { from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:none} }

/* Títulos */
h1, h2, h3, .pf-v5-c-title {
  color:var(--kc-accent);
  font-weight:700;
  text-align:center;
  margin:0 0 1.25rem;
}

/* Subtítulo debajo del logo */
.kc-subtitle {
  text-align: center;
  color: var(--kc-text);
  margin-top: 72px;
  font-size: 1.2rem;
  letter-spacing: .05em;
  font-weight: 500;
}

/* Labels/inputs */
label {
  font-size:.9rem;
  color:#e9e9e9;
  display:block;
  margin:0 0 6px;
}
input[type="text"], input[type="email"], input[type="password"],
.pf-v5-c-form-control, .form-control {
  width:100%;
  background:#2a2a2a !important;
  color:var(--kc-text) !important;
  border:1px solid #444 !important;
  border-radius:10px !important;
  padding:12px 14px !important;
  transition:border-color .25s ease, box-shadow .25s ease;
}
input:focus {
  outline:none;
  border-color:var(--kc-accent) !important;
  box-shadow:0 0 0 3px rgba(255,218,99,.15);
}

/* Password con icono */
.input-password {
  position:relative;
}
.input-password input {
  width:100%;
  background:#2a2a2a;
  color:var(--kc-text);
  border:1px solid #444;
  border-radius:10px;
  padding:12px 44px 12px 14px;
  transition: border-color .25s ease;
}
.input-password input:focus {
  border-color:var(--kc-accent);
  box-shadow:0 0 0 3px rgba(255,218,99,.15);
}
.input-password button.toggle {
  position:absolute;
  right:8px;
  top:50%;
  transform:translateY(-50%);
  background:transparent;
  border:none;
  color:#ccc;
  width:34px;
  height:34px;
  cursor:pointer;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: background .2s ease, color .2s ease;
}
.input-password button.toggle:hover {
  background:#333;
}

/* ===== Corrección: icono del ojo visible y con feedback ===== */
.input-password button.toggle i {
  color: var(--kc-accent); /* dorado visible */
  transition: color .2s ease, transform .2s ease;
}
.input-password button.toggle:hover i {
  color: #fff; /* blanco en hover */
  transform: scale(1.1);
}
.input-password button.toggle.active i,
.input-password button.toggle[data-visible="true"] i,
.input-password button.toggle.fa-eye-slash {
  color: var(--kc-primary); /* rojo cuando está activo (mostrando la contraseña) */
}

/* Botón primario rojo + hover dorado */
.pf-v5-c-button.pf-m-primary,
.btn.btn-primary,
#kc-login {
  width:100%;
  background:var(--kc-primary) !important;
  border:1px solid transparent !important;
  border-radius:10px !important;
  color:var(--kc-text) !important;
  font-weight:700;
  letter-spacing:.02em;
  padding:12px 14px;
  transition:transform .2s ease, background-color .2s ease;
}
.pf-v5-c-button.pf-m-primary:hover,
.btn.btn-primary:hover,
#kc-login:hover {
  background:var(--kc-accent) !important;
  color:#141414 !important;
  transform:translateY(-1px);
}

/* Botones secundarios */
.pf-v5-c-button, .btn {
  background:var(--kc-secondary);
  color:var(--kc-text);
  border-radius:10px;
  border:1px solid #444;
}
.pf-v5-c-button:hover, .btn:hover {
  background:#444;
  transform:translateY(-1px);
}

/* Links */
a {
  color:var(--kc-accent);
  font-weight:500;
  text-decoration:none;
}
a:hover { text-decoration:underline; }

/* Alertas */
.pf-v5-c-alert, .alert {
  background:#3a0b0b;
  border-left:4px solid var(--kc-primary);
  color:#ffbdbd;
  border-radius:10px;
  padding:10px 12px;
}

/* Divider + Social */
.auth-divider {
  display:flex;
  align-items:center;
  gap:12px;
  margin:16px 0 10px;
  color:#aaa;
  font-size:.9rem;
}
.auth-divider::before, .auth-divider::after {
  content:"";
  flex:1;
  height:1px;
  background:#3a3a3a;
}

/* Asegura que el botón de Google vaya DEBAJO del texto y no al lado */
#kc-social-providers {
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:.6rem;
}

/* Reset de lista social */
#kc-social-providers ul {
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}
#kc-social-providers li { margin:0; }

/* Botones sociales */
#kc-social-providers a {
  width:100%;
  background:var(--kc-accent) !important;
  color:#222 !important;
  border:none !important;
  border-radius:10px !important;
  font-weight:700;
  display:flex !important;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 12px !important;
  text-decoration:none !important;
  transition: filter .2s ease;
}
#kc-social-providers a:hover {
  filter:brightness(1.08);
}

/* Texto del botón social */
#kc-social-providers .kc-social-icon-text {
  color:inherit !important;
  font-weight:700;
}

/* Footer */
.login-pf-page .login-pf-page-footer {
  text-align:center;
  color:#bbb;
  margin-top:1.2rem;
}

/* Alinea y oscurece el grupo del password nativo (compatibilidad PatternFly) */
#kc-form .pf-v5-c-input-group { align-items:center; }
#kc-form .pf-v5-c-input-group > input,
#password { padding-right:42px !important; background:#2a2a2a !important; }

/* Oculta el header viejo de Keycloak */
#kc-header { display:none !important; }

/* Estado base: dorado (visible sobre fondo oscuro) */
.input-password button.toggle i,
.input-password button.toggle i.fa-eye,
.input-password button.toggle i.fa-eye-slash {
  color: var(--kc-accent) !important;
  transition: color .2s ease, transform .2s ease;
}

/* Hover: blanco */
.input-password button.toggle:hover i {
  color: #fff !important;
  transform: scale(1.1);
}

/* Estado activo (password visible):
   - cubrimos 3 variantes: clase .active en el botón,
     aria-pressed="true" (lo usa el script de KC),
     y un data-visible propio si usas JS custom */
.input-password button.toggle.active i,
.input-password button.toggle[aria-pressed="true"] i,
.input-password button.toggle[data-visible="true"] i {
  color: var(--kc-primary) !important; /* rojo */
}

/* Evita que focus/active del botón hereden un color raro del tema */
.input-password button.toggle:focus i,
.input-password button.toggle:active i {
  color: inherit !important;
}

/* Por si algún estilo global “oscurece” el icono en :active */
.input-password button.toggle:active {
  background: #333; /* mantiene contraste sin apagar el icono */
}

/* ===== Register: botón primario rojo + hover dorado ===== */
#kc-register-form input[type="submit"],
#kc-register-form button[type="submit"],
#kc-register-form .pf-v5-c-button.pf-m-primary,
#kc-register-form .btn.btn-primary {
  width: 100%;
  background: var(--kc-primary) !important;
  border: 1px solid transparent !important;
  border-radius: 10px !important;
  color: var(--kc-text) !important;
  font-weight: 700;
  letter-spacing: .02em;
  padding: 12px 14px;
  transition: transform .2s ease, background-color .2s ease;
}

#kc-register-form input[type="submit"]:hover,
#kc-register-form button[type="submit"]:hover,
#kc-register-form .pf-v5-c-button.pf-m-primary:hover,
#kc-register-form .btn.btn-primary:hover {
  background: var(--kc-accent) !important;
  color: #141414 !important;
  transform: translateY(-1px);
}

/* (Por si algún tema aplica un azul a .pf-m-control, lo neutralizamos) */
#kc-register-form .pf-v5-c-button.pf-m-primary.pf-m-control {
  background: var(--kc-primary) !important;
  color: var(--kc-text) !important;
}

/* Asegura que el contenedor del título no desplace el subtitle */
#kc-content .kc-subtitle { text-align: center; }
